# 오브젝트

오브젝트는 기본 자료형과 달리 다양한 데이터를 담을 수 있다.

키로 구분된 데이터 집합이나 복잡한 개체(entity)를 저장할 수 있다. 

오브젝트는 중괄호 `{…}`를 이용해 만들 수 있다. 

중괄호 안에는 `키(key): 값(value)` 쌍으로 구성된 

프로퍼티(property) 를 여러 개 넣을 수 있는데, 

키엔 **문자형**, 값엔 **모든 자료형**이 허용된다. 

프로퍼티 키는 `프로퍼티 이름` 이라고도 부른다.

오브젝트를 만드는 방식은 두가지 방법이 있다.

```javascript
let obj = new Object(); // 오브젝트 생성자 문법

let obj2 = {}; // 오브젝트 리터럴 문법
```

`{...}` 중괄호를 사용해 오브젝트를 선언하는것은 오브젝트 리터럴(`object literal`)이라 부른다.

오브젝트를 선언할 때, 주로 이 방법을 통해 사용.

## 리터럴과 프로퍼티

중괄호 `{...}` 안에는 `키: 값` 쌍으로 구성된 프로퍼티가 들어갑니다.

```javascript
let user = {     // 오브젝트
  name: "홍길동",  // 키: "name",  값: "홍길동"
  age: 30        // 키: "age", 값: 30
};
```
콜론(`:`)을 기준으로 

왼쪽엔 키가, 오른쪽엔 값이 위치. 

프로퍼티 키는 프로퍼티 **이름** 혹은 **식별자**라고도 부른다.

1. 첫 번째 프로퍼티 – `"name"`(이름)과 `"홍길동"`(값)
2. 두 번째 프로퍼티 – `"age"`(이름)과 `30`(값)

프로퍼티 추가시

```javascript
user.isKorean = true;
```

`delete` 연산자를 통해 프로퍼티 삭제

```javascript
delete user.isKorean;
```

```javascript
let user = {
    name : "김이박",
    age : 30,
    "띄어쓰기가 포함된 프로퍼티 이름" : true
}
```

### 대괄호 표기법

띄어쓰기가 포함된 문자열로 프로퍼티 키를 만든 경우엔 

점 표기법을 통해 프로퍼티에 접근할 수 없다.

`.`은 **유효한 변수 식별자**인 경우에만 사용할 수 있다.

유효한 변수 식별자란 

1. 공백이 없어야 하며
2. 숫자로 시작하지 않아야 하며
3. `$`와 `_`을 제외한 특수 문자가 없어야 한다.

유효한 변수 식별자가 아닌 경우에는 

대괄호 표기법을 통해 프로퍼티에 접근할 수 있다.

대괄호 표기법은 키에 어떤 문자열이 있던지 사용가능하다.

```javascript
let user = {};

user["프로퍼티 키"] = true;

console.log(user["프로퍼티 키"]);

delete user["프로퍼티 키"];
```

대괄호 표기법을 사용시 문자열을 사용할때는 따옴표로 묶어서 사용해야 함.

대괄호 표기법을 사용하면 변수를 키로 사용한 것과 같이 

문자열뿐만 아니라 모든 표현식의 평가 결과를 프로퍼티 키로 사용할 수 있습니다.

```javascript
let key = `프로퍼티 키`;

user[key] = `프로퍼티 값`;
```

### 계산된 프로퍼티

오브젝트를 만들 때 오브젝트 리터럴 안의 프로퍼티 키가 대괄호로 둘러싸여 있는 경우, 

이를 계산된 프로퍼티(`computed property`) 라고 부른다.

```javascript
let key = getKeySomeFunc(); // 함수의 반환 값이 `key`에 저장

let obj = {
    ...
    [key] : 5 // 위에 지정된 key 값에 따라 프로퍼티 키값으로 결정
}
```

### 단축 프로퍼티

실무에선 프로퍼티 값을 기존 변수에서 받아와 사용하는 경우가 종종 있다.

```javascript
function makeUser(name, age) {
  return {
    name: name,
    age: age,
    // ...등등
  };
}

let user = makeUser("홍길동", 30);
console.log(user.name); // 홍길동
```
위 예시와 같이 프로퍼티 명과 변수의 이름이 동일한 경우

프로퍼티 값 단축 구문(`property value shorthand`)를 사용해 코드를 짧게 줄일 수 있다.

```javascript
function makeUser(name, age) {
    return { name, age }
}
```

물론 같은 오브젝트 내에서 기존 방식과 혼합해서 사용할 수도 있다.

```javascript
let user = {
    name,
    age : 30
};
```

## 프로퍼티 이름 제약사항

변수 이름에는 자바스크립트 예약어(`let`, `for`, `return` 등)를 사용할 수 없다

하지만 오브젝트 프로퍼티에는 이러한 제약이 없다.

**문자형이나 심볼형에 속하지 않는 값은 문자열로 자동 형 변환된다.**

문자열로 변환되기에 별다른 제약이 없지만

`__proto__`의 경우 프로퍼티에 사용될시 무시된다.

이 내용은 프로토타입에 대해 알아볼 때, 다시 알아보자...

## in 연산자

자바스크립트 오브젝트의 중요한 특징 중 하나는 다른 언어와는 달리, 

존재하지 않는 프로퍼티에 접근하려 해도 에러가 발생하지 않고 `undefined`를 반환한다.

`undefined`와 비교하는 것 이외에도 연산자 `in`을 사용하면 프로퍼티 존재 여부를 확인할 수 있다.

```javascript
"key" in object
```

`in` 왼쪽에는 반드시 프로퍼티 이름이 와야한다.

프로퍼티 명은 보통 따옴표로 감싼 문자열이며

따옴표를 생략하면 해당 변수의 값으로 조회될 수 있다.

## for...in 반복문

`for..in` 반복문을 사용하면 오브젝트의 모든 키를 순회할 수 있다.

```javascript
for(key in object){
    // 각 프로퍼티 키를 이용하여 순회
}
```

```javascript
let obj = {
    name : "홍길동",
    age : 30,
    ["프로퍼티 키"] : true
}

for(let key in obj){
    console.log(`key = ${key}, value = ${obj[key]}`);
}
```
## 오브젝트의 프로퍼티 정렬 방식

오브젝트는 **특별한 방식으로 정렬**됩니다. 

정수 프로퍼티(`integer property`)는 자동으로 정렬되고, 

그 외의 프로퍼티는 오브젝트에 추가한 순서 그대로 정렬됩니다.

```javascript
let someints = {
    "59" : 59,
    "51" : true,
    "53" : "오십삼",
    "1" : false
}

for(let int in someints){
    console.log(int); //1 51 53 59
}
```
위에 결과를 보면 입력값 순서가 아닌 순서로 정렬되었는데

이는 정수 프로퍼티로 정렬되었기 때문

# 정리

오브젝트는 몇 가지 특수한 기능을 가진 연관 배열(`associative array`).

오브젝트는 프로퍼티(`키-값` 쌍)를 저장한다.

* 프로퍼티 키는 문자열이나 심볼이어야 한다. 보통은 문자열.
* 값은 어떤 자료형도 가능한다.

아래와 같은 방법을 사용하면 프로퍼티에 접근할 수 있다.

* 점 표기법
  * `obj.property`
* 대괄호 표기법 
  * `obj["property"]` 
  * 대괄호 표기법을 사용하면 `obj[varWithKey]`같이 변수에서 키를 가져올 수 있다.

오브젝트엔 다음과 같은 추가 연산자를 사용할 수 있다.

* 프로퍼티를 삭제하고 싶을 때
  * `delete obj.prop`
* 해당 key를 가진 프로퍼티가 오브젝트 내에 있는지 확인하고자 할 때
  * `"key" in obj`
* 프로퍼티를 나열할 때
  * `for (let key in obj)`

본문 내용은 **순수 오브젝트(plain object)**라 불리는 일반 오브젝트에 대해 내용.

자바스크립트에는 일반 오브젝트 이외에도 다양한 종류의 오브젝트가 있다.

* `Array`
  * 정렬된 데이터 컬렉션을 저장할 때 쓰임
* `Date`
  * 날짜와 시간 정보를 저장할 때 쓰임
* `Error`
  * 에러 정보를 저장할 때 쓰임
* 기타 등등

사람들은 종종 `Array 타입`이나 `Date 타입`이라는 용어를 쓰곤 합니다. 

사실 `Array`와 `Date`는 독립적인 자료형이 아니라 `오브젝트`형에 속합니다. 

오브젝트에 다양한 기능을 넣어 확장한 또 다른 오브젝트.

오브젝트는 다재다능한 자료구조로 자바스크립트에서 그 영향력이 막강하다.


정리시에 `object`를 그냥 오브젝트로 작성.

프로그래밍에서 다루는 `객체` 로 쓰기에는 객체 지향 프로그래밍에서 다루는 `객체`와 다른 개념이기에 그대로 `오브젝트`로 작성...