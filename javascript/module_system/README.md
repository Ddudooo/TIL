# 모듈 시스템

개발하는 애플리케이션의 크기가 커지면 언젠간 파일을 여러 개로 분리해야 하는 시점이 온다. 

이때 분리된 파일 각각을 `모듈(module)`이라고 부르는데, 모듈은 대개 클래스 하나 혹은 특정한 목적을 가진 복수의 함수로 구성된 라이브러리 하나로 구성된다.

자바스크립트는 다음과 같은 모듈 시스템이 있다.

* [`AMD`](https://en.wikipedia.org/wiki/Asynchronous_module_definition)
  * 가장 오래된 모듈 시스템 중 하나로 [`require.js`](http://requirejs.org/)라는 라이브러리를 통해 처음 개발.
* [`CommonJS`](http://wiki.commonjs.org/wiki/Modules/1.1)
  * `Node.js` 서버를 위해 만들어진 모듈 시스템.
* [`UMD`](https://github.com/umdjs/umd)
  * `AMD`와 `CommonJS`와 같은 다양한 모듈 시스템을 함께 사용하기 위해 만듬.

이와 같은 모듈 시스템은 모듈 시스템을 표준으로 지정한 2015년 이전에 사용하던 것

2015년 이후에는 표준으로 등록되어 대부분의 브라우저와 Node.js가 모듈 시스템을 지원하고 있음.

## 모듈이란?

`모듈`은 단지 파일 하나에 불과. 스크립트 하나는 `모듈` 하나다.

모듈에 특수한 지시자 `export`와 `import`를 적용하면 다른 모듈을 불러와 불러온 모듈에 있는 함수를 호출하는 것과 같은 기능 공유가 가능하다.

* `export` 지시자를 변수나 함수 앞에 붙이면 외부 모듈에서 해당 변수나 함수에 접근할 수 있다(`모듈 내보내기`).
* `import` 지시자를 사용하면 외부 모듈의 기능을 가져올 수 있다(`모듈 가져오기`).

## 모듈의 핵심 기능

일반적인 스크립트와 모듈의 차이는 뭘까?

### 엄격 모드

모듈은 항상 `엄격 모드(use strict)`으로 실행된다.

### 모듈 레벨 스코프

모듈은 자신만의 스코프가 있다. 

**따라서 모듈 내부에서 정의한 변수나 함수는 다른 스크립트에서 접근할 수 없다.**

### 단 한번만 평가

동일한 모듈이 여러 곳에서 사용되더라도 모듈은 최초 호출 시 단 한 번만 실행. 

실행 후 결과는 이 모듈을 가져가려는 모든 모듈에 내보내진다.

### `import.meta`

`import.meta` 객체는 현재 모듈에 대한 정보를 제공한다.

### this는 `undefined`

모듈 최상위 레벨의 `this`는 `undefined`입니다.

모듈이 아닌 일반 스크립트의 `this`는 전역 객체인 것과 대조된다.


