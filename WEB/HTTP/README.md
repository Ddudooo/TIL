# HTTP에 대해

너무나도 간략하게 아는 내용이기에 좀 더 살펴보고자 알아보고자 함

## HTTP란?

`HyperText Transfer Protocal` 의 약자로

텍스트 기반의 통신 규약으로 웹상에서 데이터를 주고 받는 일련의 프로토콜이다.

간단히 브라우저 상에서 화면을 보기 위해 행해지는 행위로

1. 요청의 목적이자 응답인 __리소스__

2. 요청과 응답간 __트랜잭션__

3. __메시지__

4. __TCP 커넥션__

와 같은 요소들로 이루어져 있다.

### 리소스

HTTP 통신을 하는 웹서버는 제공하는 리소스를 관리하고 제공해야 한다.

단순하게는 웹 서버 파일 시스템의 정적 파일이며

요청에 따라 콘텐츠를 생산하는 프로그램도 될 수 있다.

#### 미디어 타입

웹상에서는 여러가지 데이터타입을 다루기에,  
HTTP 상에서 전송되는 객체에 `MIME`타입이라는 데이터 포맷 라벨을 붙인다.

MIME 이란

> Multipurpose Internet Mail Extensions
> 다목적 인터넷 메일 확장

원래 각기 다른 전자 메일 시스템 사이에서 메시지가 오갈때 생기는 문제를 해결하기 위해 설계되었다.

HTTP서도 멀티미디어 콘텐츠를 위해 채택하였다.

`/` 사선으로 구분하여 주타입과 부타입으로 이뤄진 문자열 라벨이다.

#### URL & URI

`URI` 는 통합 자원 식별자(Uniform Resource Identifier)로

웹 서버의 리소스를 위한 식별자 값이다.

그렇다면 `URL`은 무엇일까?

`URL` 통합 자원 지시자 (Uniform Resource Locator)로 리소스 식별자의 가장 흔한 형태다

단순히 말해서 `URI`는 리소스를 지정하는 규약이며, `URL` 그에 대한 표현 형태이다.

#### URN

`URI`의 표현 방법으로 `URL`이라고 앞서 말했는데

해당 표현 방법의 다른 방법인 `URN`, Uniform Resource Name 이다.

리소스의 위치에 영향을 받지 않는 유일무이한 이름으로

리소스가 이름을 변경하지 않는 이상 여러 종류의 프로토콜로 접근하여도 문제가 없다

다만, 아직 실험중인 상태로 아직까지 널리 사용되지는 않았다.

#### 트랜잭션

클라이언트와 서버간에 통신은 단순하게 요청과 해당 요청에 대한 응답으로 이루어 진다.

#### 메소드

HTTP 메소드를 통해 여러 요청 명령을 지원한다.

모든 HTTP 요청은 한 개의 메소드를 가지며, 해당 메소드를 통해 서버가 어떠한 동작을 해야 하는지 알려준다.

흔히 쓰이는 메소드는 `GET`, `POST`, `PUT`, `DELETE` 등이 있다.

#### 상태 코드

모든 HTTP 응답은 상태 코드와 함께 반환된다.

상태 코드의 1XX, 2XX, 3XX, 4XX, 5XX 과 같은 코드를 말한다.

#### 여러 객체로 이루어진 응답

애플리케이션에서 하나의 작업을 위해 보통 여러 HTTP 트랜잭션이 수행된다.

예로 한 페이지에 대한 HTTP 트랜잭션으로

첫 트랜잭션으로는 HTML 구조에 대한 정보

이후 HTML 내에 컨텐츠. 사진이나 기타 데이터와 같은 정보를 불러올 수 있다.

#### 메시지

HTTP 트랜잭션, 요청과 응답은 HTTP 메시지로 이루어지는데

HTTP 메시지는 단순한 줄 단위의 문자열이다.

HTTP는 세 영역으로 이루어지는데

* 시작줄
* 헤더
* 본문

으로 이루어진다.

### HTTP/0.9

초기버전의 HTTP 로 현재 사용하는 HTTP와 다르게 메소드가 `GET`으로 유일하다

또한 응답값도 단순히 HTML 파일만 전송할 수 있다.

### HTTP/1.0 - 확장성 추가

기존 프로토콜, HTTP/0.9 로 불리는 프로토콜의 단점을 보안하기 위해 확장.

* 버전 정보가 각 요청 사이내로 전송되기 시작했습니다.  
  (HTTP/1.0 이 GET 라인에 붙은 형태로)
* 상태 코드 라인 또한 응답의 시작 부분에 붙어 전송되어,  
  브라우저가 요청에 대한 성공과 실패를 알 수 있고 그 결과에 대한 동작  
  (특정 방법으로 그것의 로컬 캐시를 갱신하거나 사용하는 것과 같은)을 할 수 있게 되었습니다.
* HTTP 헤더 개념은 요청과 응답 모두를 위해 도입되어,  
  메타데이터 전송을 허용하고 프로토콜을 극도로 유연하고 확장 가능하도록 만들어주었습니다.
* 새로운 HTTP 헤더의 도움으로,  
  평이한 HTML 파일들 외에 다른 문서들을 전송하는 기능이 추가되었습니다(Content-Type 덕분에).

### HTTP/1.1 - 표준 프로토콜

현재 주로 사용되는, HTTP 프로토콜을 사용한다고 하면 이 버전이다.

HTTP/1.1은 모호함을 명확하게 하고 많은 개선 사항들을 도입했습니다:

* 커넥션이 재사용될 수 있게 하여, 탐색된 단일 원본 문서 내로 임베드된 리소스들을 디스플레이하기 위해 사용된 커넥션을 다시 열어 시간을 절약하게 하였습니다.
* 파이프라이닝을 추가하여, 첫번째 요청에 대한 응답이 완전히 전송되기 이전에 두번째 요청 전송을 가능케 하여, 커뮤니케이션 레이턴시를 낮췄습니다.
* 청크된 응답 또한 지원됩니다.
* 추가적인 캐시 제어 메커니즘이 도입되었습니다.
* 언어, 인코딩 혹은 타입을 포함한 컨텐츠 협상이 도입되어, 클라이언트와 서버로 하여금 교환하려는 가장 적합한 컨텐츠에 대한 동의를 가능케 했습니다.
* Host 헤더 덕분에, 동일 IP 주소에 다른 도메인을 호스트하는 기능이 서버 코로케이션을 가능케 합니다.

---

# 참조

* HTTP 완벽 가이드
* [HTTP의 진화](https://developer.mozilla.org/ko/docs/Web/HTTP/Basics_of_HTTP/Evolution_of_HTTP)