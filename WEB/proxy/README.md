# 프록시

프록시는 대신한다는 의미로

프로그래밍쪽에서는 위임에서 처리하기 위해서 쓰인다

이 방면으로는 프록시 패턴에 대해 찾아보자

지금 알아볼 내용은 네트워크 쪽에서의 프록시, 프록시 서버에 대해 알아보고자 한다.

## 프록시 서버

![proxy.png](./images/proxy.png)

클라이언트와 서버 사이에 위치하며,

다른 네트워크로 접속할 수 있도록 중간에서 중계자 역할을 하는 서버

서버와 클라이언트 사이에서 대신 통신을 수행하는 것을 __프록시__

그 역할을 하는 서버를 __프록시 서버__ 라고 부른다.

프록시 서버가 있는 클라이언트와 서버의 요청과 응답 흐름은 대략 다음과 같다

클라이언트에서 요청 발생  
-> 프록시 서버에서 서버로 요청  
-> 서버에서 프록시로 응답  
-> 프록시서버에서 클라이언트로 응답

그렇다면 왜 굳이 프록시를 거쳐가면서 서버로 응답을 받게 할까?

### 프록시 서버 사용 목적

프록시 서버에서 요청 목적지 (주로 서버) 에 무조건 요청을 전달하는 것이 아니라

프록시 서버에서 해결가능 할 경우 프록시 서버에서 빠르게 응답 처리가 가능하다.

마치 캐시를 사용하는 것처럼.

다른 목적으로는 프록시를 거쳐 서버로 연결하게 되면

직접적으로 서버가 노출되는 일이 줄어들게 되어 서버에 직접 연결하는 것보다 안전하다.

서버의 접속 IP가 직접적으로 노출할 필요가 없어지며, 그로 인해 서버는 비지니스 로직에만 집중할 수 있기도 하다.

프록시 서버에 방화벽을 따로 설치하여 서버를 좀더 보호해줄 수도 있다.

이 밖에도 서버에서 외부와 불필요한 연결이 줄어들어 이점이 상당히 많다고 한다...

### 프록시 서버 종류

서버의 위치에 따라 종류를 나눌 수 있다.

* 포워드 프록시
    * 클라이언트 호스트와 접근하려는 원격 리소스 사이에 위치
    * 일반적으로 프록시 서버라고 하는 종류
* 리버스 프록시
    * 인터넷 리소스 또는 인트라 넷 리소스 앞에 위치

#### 포워드 프록시

클라이언트 호스트와 접근하려는 원격 리소스 사이에 위치하며

이 프록시 서버는 원격 서버의 요청된 리소스를 가져와 클라이언트에게 돌려주는 역할을 수행한다.

일종의 캐시 레이어 역할도 하여, 캐시 데이터가 남아 있다면 원격 서버로부터 가져오지 않고

캐시된 리소스를 돌려준다.

클라이언트에서는 프록시 서버에 요청을 하거나 프록시 설정을 해야함으로 프록시 서버를 사용함을 인식할 수 있다.

#### 리버스 프록시

인터넷 리소스 또는 인트라 넷 리소스 앞에 위치하며

이 방식을 사용할시 포워드 프록시와는 다르게 클라이언트에서 프록시 서버로 연결됨을 알아차리기 힘들다.

마치 최종 목적지에 직접 접근하는 것처럼 느껴지게 만든다.

이런 방식으로 프록시 서버를 구성하는 이유 중 하나로 보안적인 요소가 있는데

내부 네트워크와 외부 네크워크를 구분을 지어 공격을 받아도 영향을 덜 받게할 수 있다.

